(globalThis.webpackChunksen_farming_v2=globalThis.webpackChunksen_farming_v2||[]).push([["node_modules_sentre_senhub_dist_components_pageLoader_lazy_recursive-src_bootstrap_app_tsx-we-decc06","node_modules_sentre_senhub_dist_components_pageLoader_lazy_recursive"],{90571:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=90571,e.exports=t},98463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ReactComponent:()=>x,default:()=>p});var n,r,a,l,i,o,d,c=s(92950);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u.apply(this,arguments)}function h(e,t){let{title:s,titleId:h,...x}=e;return c.createElement("svg",u({width:96,height:96,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":h},x),s?c.createElement("title",{id:h},s):null,n||(n=c.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0H72C85.2548 0 96 10.7452 96 24V72C96 85.2548 85.2548 96 72 96H24C10.7452 96 0 85.2548 0 72V24Z",fill:"url(#paint0_linear_3080_6014)"})),r||(r=c.createElement("path",{d:"M73.9637 43.986H75.6542C75.7684 43.986 77.2305 43.9392 76.4538 41.8327C75.6314 39.6326 73.0727 39.4922 73.0727 39.4922L69.189 25.0512C69.189 25.0512 68.7092 22.5 66.2648 22.5C63.7975 22.5 43.351 22.5 43.351 22.5C43.351 22.5 40.1983 22.5702 40.1983 26.1278H43.1682L39.6501 39.7028H36.1776V32.4472C36.1776 32.4472 36.1547 29.9897 33.7103 29.9897C31.243 29.9897 30.4434 29.9897 30.4434 29.9897L31.4486 32.6345H33.0935C33.0935 32.6345 33.1163 32.6345 33.1391 32.6345C33.2762 32.6345 33.6874 32.7047 33.6874 33.5239C33.6874 34.5069 33.6874 39.7731 33.6874 39.7731H22.5618C22.5618 39.7731 22.5618 39.7731 22.5389 39.7731C22.242 39.7731 18.541 39.8433 18.541 43.6583C18.541 47.6372 19.2492 54.6588 19.2492 54.6588C16.6906 56.5312 15 59.6207 15 63.1315C15 68.8658 19.5462 73.5 25.1433 73.5C30.7404 73.5 35.2866 68.8424 35.2866 63.1081C35.2866 60.791 34.5327 58.6377 33.2762 56.9057H37L37.7996 59.0824H45.9553L46.6636 56.8121L49.5192 56.8355C49.5192 57.0227 49.5192 57.1866 49.5192 57.3738C49.5192 66.2678 56.5556 73.5 65.2596 73.5C73.9408 73.5 81 66.2912 81 57.3738C80.9543 51.8034 78.1672 46.8883 73.9637 43.986ZM25.1661 68.5615C22.1963 68.5615 19.7747 66.0805 19.7747 63.0379C19.7747 59.9952 22.1963 57.5142 25.1661 57.5142C28.136 57.5142 30.5576 59.9952 30.5576 63.0379C30.5805 66.0805 28.1589 68.5615 25.1661 68.5615ZM57.6293 27.1108C57.6293 26.9704 57.6521 26.2448 58.2004 25.7065C58.4517 25.4491 58.8858 25.1448 59.6168 25.1448H65.8764C66.1277 25.1448 67.4299 25.2618 67.8868 27.3683C68.2295 28.8896 70.1028 36.941 70.1713 37.2921C70.217 37.4793 70.4226 38.4156 69.8744 39.1645C69.6231 39.5156 69.1205 39.9135 68.2066 39.9135H59.6168C58.8172 39.9135 57.6521 39.3752 57.6521 37.8772V27.1108H57.6293ZM44.6989 40.0071C44.676 40.0071 44.6532 40.0071 44.6303 40.0071C44.5389 40.0071 43.648 39.9135 43.1225 39.1879C42.8712 38.8603 42.6199 38.2985 42.8027 37.4325C43.0997 36.0282 45.0187 26.7129 45.0415 26.6193C45.0415 26.5959 45.0415 26.5725 45.0644 26.5257C45.2243 26.0108 45.7954 25.1448 46.9605 25.1448H54.4309C55.1848 25.1448 56.3956 25.7065 56.3956 27.181V38.1815C56.3956 38.2049 56.3956 38.2283 56.3956 38.2283C56.3499 38.9305 55.8017 39.9837 54.4538 39.9837H44.6989V40.0071ZM65.2596 68.07C59.5711 68.07 54.9335 63.3187 54.9335 57.4908C54.9335 51.6629 59.5711 46.9117 65.2596 46.9117C70.9481 46.9117 75.5857 51.6629 75.5857 57.4908C75.5857 63.3187 70.9481 68.07 65.2596 68.07Z",fill:"#212433"})),a||(a=c.createElement("path",{opacity:.5,d:"M69.8741 39.1648C69.6228 39.5158 69.1202 39.9137 68.2064 39.9137H59.6166C58.817 39.9137 57.6519 39.3754 57.6519 37.8775V27.1111C57.6519 26.9706 57.6747 26.2451 58.223 25.7067C58.4743 25.4493 58.9083 25.145 59.6394 25.145H65.899C66.1503 25.145 67.4525 25.262 67.9094 27.3685C68.2521 28.8899 70.1254 36.9413 70.1939 37.2923C70.2168 37.503 70.4224 38.4392 69.8741 39.1648Z",fill:"#212433"})),l||(l=c.createElement("path",{opacity:.5,d:"M56.3955 27.181V38.1815C56.3955 38.2049 56.3955 38.2283 56.3955 38.2283C56.3498 38.9304 55.8015 39.9837 54.4537 39.9837H44.6987C44.6759 39.9837 44.653 39.9837 44.6302 39.9837C44.5388 39.9837 43.6479 39.89 43.1224 39.1645C42.8711 38.8368 42.6198 38.2751 42.8026 37.4091C43.0996 36.0048 45.0186 26.6895 45.0414 26.5959C45.0414 26.5725 45.0414 26.5491 45.0643 26.5022C45.2242 25.9873 45.7953 25.1213 46.9604 25.1213H54.4308C55.1847 25.1447 56.3955 25.7065 56.3955 27.181Z",fill:"#212433"})),i||(i=c.createElement("path",{opacity:.5,d:"M65.2597 47.7777C60.051 47.7777 55.8018 52.1311 55.8018 57.4675C55.8018 62.8039 60.051 67.1572 65.2597 67.1572C70.4684 67.1572 74.7176 62.8039 74.7176 57.4675C74.7176 52.1311 70.4684 47.7777 65.2597 47.7777ZM65.2597 62.4294C62.5868 62.4294 60.4393 60.2059 60.4393 57.4909C60.4393 54.7525 62.6096 52.5524 65.2597 52.5524C67.9326 52.5524 70.08 54.7759 70.08 57.4909C70.08 60.2059 67.9097 62.4294 65.2597 62.4294Z",fill:"#212433"})),o||(o=c.createElement("path",{opacity:.5,d:"M25.1662 58.3801C22.6761 58.3801 20.6428 60.4632 20.6428 63.0144C20.6428 65.5655 22.6761 67.6486 25.1662 67.6486C27.6563 67.6486 29.6896 65.5655 29.6896 63.0144C29.7124 60.4632 27.6792 58.3801 25.1662 58.3801ZM25.1662 65.2847C23.9554 65.2847 22.9502 64.2782 22.9502 63.0144C22.9502 61.7739 23.9325 60.7441 25.1662 60.7441C26.377 60.7441 27.3822 61.7505 27.3822 63.0144C27.3822 64.2782 26.3998 65.2847 25.1662 65.2847Z",fill:"#212433"})),d||(d=c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_3080_6014",x1:0,y1:0,x2:96,y2:96,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#F0FF00"}),c.createElement("stop",{offset:1,stopColor:"#58CFFB"})))))}const x=c.forwardRef(h),p=s.p+"static/media/logo.63d520f68015fd3b429cce87badf4e5b.svg"},45597:(e,t,s)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return r.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return a.default}});var n=l(s(70854)),r=l(s(98463)),a=l(s(83272));function l(e){return e&&e.__esModule?e:{default:e}}const i=[n.default];t.h0=i},68159:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>ss,__esModule:()=>es.X$,logo:()=>es.jY,panels:()=>es.h0,readme:()=>es.ng});var n=s(55754),r=s(77147),a=s(92950),l=s(45055),i=s(94751),o=s(66073),d=s(69716),c=s(85647),u=s(39858),h=s(93253),x=s(4065),p=s(45263);const m=e=>{let{mintAddress:t,amount:s,format:n="0,0.[0000]"}=e;const[l,i]=(0,a.useState)("0"),o=(0,r.useMintDecimals)({mintAddress:t.toString()}),d=(0,a.useCallback)((()=>{const e=x.utilsBN.undecimalize(s,o||9);i(r.util.numeric(e).format(n))}),[s,o,n]);return(0,h.Z)(d,300,[d]),(0,p.jsx)("span",{children:l})},j=(0,a.memo)(m),y=e=>{let{mintAddress:t,format:s="0,0.[0000]"}=e;const{amount:n}=(0,u.$)(t.toString());return(0,p.jsx)(j,{mintAddress:t,amount:n,format:s})},g=(0,a.memo)(y),f=e=>{let{reward:t,index:s,onDelete:n,onChange:l}=e;const{mints:u}=(()=>{const[e,t]=(0,a.useState)([]),s=(0,a.useCallback)((async()=>{const e=new r.SplTokenProvider,s=(await e.getTokenList()).map((e=>{let{address:t}=e;return t}));return t(s)}),[]);return(0,a.useEffect)((()=>{s()}),[s]),{mints:e}})();return(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Row,{align:"middle",children:[(0,p.jsx)(i.Col,{flex:"auto",children:(0,p.jsxs)(i.Typography.Text,{children:["Token #",s+1]})}),0!==s&&(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Button,{onClick:()=>n(s),type:"text",icon:(0,p.jsx)(d.default,{name:"trash-outline"})})})]})}),(0,p.jsx)(i.Col,{span:12,children:(0,p.jsx)(o.MintSelection,{value:t.mintAddress,mints:u,style:{...K,textAlign:"left"},onChange:e=>l(s,{...t,mintAddress:e})})}),(0,p.jsx)(i.Col,{span:12,children:(0,p.jsx)(i.Input,{value:t.budget,style:{height:40},placeholder:"Enter budget",name:"budget",onChange:e=>l(s,{...t,budget:e.target.value})})}),c.util.isAddress(t.mintAddress)&&(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Text,{type:"secondary",children:(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"Available:"}),(0,p.jsx)(g,{mintAddress:t.mintAddress}),(0,p.jsx)(o.MintSymbol,{mintAddress:t.mintAddress})]})})})]})},C=e=>{let{tokenRewards:t,setTokenRewards:s}=e;const n=e=>{const n=[...t];return n.splice(e,1),s(n)},r=(e,n)=>{const r=[...t],a={...r[e]};return r[e]={...a,...n},s(r)};return(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Title,{level:5,children:"Rewards"})}),t.map(((e,t)=>(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(f,{onChange:r,reward:e,index:t,onDelete:n})},t))),(0,p.jsx)(i.Col,{span:24}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Button,{size:"large",icon:(0,p.jsx)(d.default,{name:"add-outline"}),type:"dashed",block:!0,onClick:()=>{const e=[...t];return e.push(J),s(e)},children:"Add more"})})]})};var w=s(27906);let b;!function(e){e.Sentre="sentre",e.Staked="staked",e.Your="your",e.All="all"}(b||(b={}));const A={all:"All",sentre:"Sentre farm",staked:"Staked farm",your:"Your farm"},v="MMM DD, YYYY HH:mm",T=new w.BN(10**9);var S=s(4550),k=s.n(S);const N=e=>{let{time:t,onChange:s}=e;return(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:12,children:(0,p.jsxs)(i.Space,{direction:"vertical",style:{width:"100%"},children:[(0,p.jsx)(i.Typography.Text,{children:"Start time"}),(0,p.jsx)(i.DatePicker,{placeholder:"Select time",suffixIcon:(0,p.jsx)(d.default,{name:"time-outline"}),className:"date-option",onChange:e=>s("startAt",(null===e||void 0===e?void 0:e.valueOf())||0),clearIcon:null,value:t.startAt?k()(t.startAt):k()(Date.now()),showTime:{showSecond:!1},placement:"bottomRight",format:v})]})}),(0,p.jsx)(i.Col,{span:12,children:(0,p.jsxs)(i.Space,{direction:"vertical",style:{width:"100%"},children:[(0,p.jsx)(i.Typography.Text,{children:"End time"}),(0,p.jsx)(i.DatePicker,{placeholder:"Select time",suffixIcon:(0,p.jsx)(d.default,{name:"time-outline"}),className:"date-option",onChange:e=>s("endAt",(null===e||void 0===e?void 0:e.valueOf())||0),clearIcon:null,value:t.endAt?k()(t.endAt):void 0,showTime:{showSecond:!1},placement:"bottomRight",format:v})]})})]})},F=e=>{let{onSelect:t,mintAddress:s}=e;const[n,r]=(0,a.useState)(!1),{nftInfo:l,metadata:c}=(0,o.useNftMetaData)(s||"");return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.Button,{onClick:()=>r(!0),size:"large",type:"text",className:"btn-nft",block:!0,children:(0,p.jsxs)(i.Row,{gutter:[8,8],wrap:!1,children:[(0,p.jsx)(i.Col,{flex:"auto",style:{textAlign:"left"},children:s?(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(o.AvatarNFT,{size:24,mintAddress:s}),(0,p.jsx)(i.Typography.Text,{children:(null===l||void 0===l?void 0:l.name)||(null===c||void 0===c?void 0:c.data.data.name)})]}):"Select a collection"}),(0,p.jsx)(i.Col,{children:(0,p.jsx)(d.default,{name:"chevron-down-outline"})})]})}),(0,p.jsx)(i.Modal,{className:"modal-nft-selection",visible:n,footer:!1,onCancel:()=>r(!1),closeIcon:(0,p.jsx)(d.default,{name:"close-outline"}),children:(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Title,{level:4,children:"Select a NFT collection"})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(o.SearchNFT,{onSelect:e=>(e=>{t(e),r(!1)})(e),searchNFTby:o.searchNFTType.collections})})]})})]})},R=e=>{let{index:t,onDelete:s,boosData:n,onChange:r}=e;return(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Row,{align:"middle",children:[(0,p.jsx)(i.Col,{flex:"auto",children:(0,p.jsxs)(i.Typography.Text,{children:["Collection NFT #",t+1]})}),0!==t&&(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Button,{onClick:()=>s(t),type:"text",icon:(0,p.jsx)(d.default,{name:"trash-outline"})})})]})}),(0,p.jsx)(i.Col,{span:12,children:(0,p.jsx)(F,{mintAddress:n.collection,onSelect:e=>r(t,{...n,collection:e})})}),(0,p.jsx)(i.Col,{span:12,className:"boost-nft",children:(0,p.jsx)(i.InputNumber,{value:n.percentage,style:{height:40},placeholder:"Enter percentage",name:"budget",onChange:e=>r(t,{...n,percentage:e})})})]})},B=()=>(0,p.jsxs)(i.Typography.Text,{className:"caption",type:"secondary",children:["Enable ",(0,p.jsx)("span",{style:{color:"#A0E86F"},children:"Boost"})," means that you will allow users to use NFTs to increase their contribution. You need to set the corresponding plus percentage for each NFT collection."]}),M=e=>{let{boostsData:t,onChange:s}=e;const[n,r]=(0,a.useState)(!1),l=e=>{const n=[...t];return n.splice(e,1),s(n)},o=(e,n)=>{const r=[...t],a={...r[e]};return r[e]={...a,...n},s(r)};return(0,p.jsxs)(i.Row,{gutter:[12,12],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{flex:"auto",children:(0,p.jsx)(i.Typography.Title,{level:5,children:"Boost by NFT"})}),(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Switch,{size:"small",onChange:e=>{e||s([{collection:"",percentage:0}]),r(e)}})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(B,{})})]})}),n&&t.map(((e,t)=>(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(R,{onDelete:l,index:t,boosData:e,onChange:o})},t))),n&&(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Button,{size:"large",icon:(0,p.jsx)(d.default,{name:"add-outline"}),type:"dashed",block:!0,onClick:()=>{const e=[...t];return e.push({collection:"",percentage:0}),s(e)},children:"Add more"})})]})};const D={appId:"sen_farming_v2",url:"https://descartesnetwork.github.io/sen-farming-v2-app/index.js"},E={development:{...D},production:{...D}};var O=s(38073);const{metadata:{Metadata:z,MetadataData:V}}=O.programs,I=new w.web3.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");const P=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"devnet";this._connection=void 0,this.findDataByOwnerGroupByCollection=async e=>{if(!r.util.isAddress(e))throw new Error("Invalid address!");const t=await z.findDataByOwner(this._connection,e);let s={};return t.forEach((e=>{e.collection&&(s[e.collection.key]=s[e.collection.key]?[...s[e.collection.key],e]:[e])})),s},this.findDataByOwner=async e=>{if(!r.util.isAddress(e))throw new Error("Invalid address!");return await z.findDataByOwner(this._connection,e)},this.getNftMetadata=async e=>{if(!r.util.isAddress(e))throw new Error("Invalid address!");return await z.findByMint(this._connection,e)},this.getListAccountNFTsBelongToCollection=async e=>await this._connection.getProgramAccounts(I,{commitment:"confirmed",filters:[{dataSize:679},{memcmp:{offset:368,bytes:e}}]}),this.isNftBelongsToCollection=async(e,t)=>{var s;return(null===(s=(await z.findByMint(this._connection,e)).data.collection)||void 0===s?void 0:s.key)===t},this._connection=new O.Connection(e)}},X={devnet:{node:"https://api.devnet.solana.com",senFarmingProgram:"4fPn4MWiAdAWd5vqjRnCxqEsFJgWoK3mim21G82ZHPD3",metaplexNFT:new P(r.rpc)},testnet:{node:"https://api.testnet.solana.com",senFarmingProgram:"4fPn4MWiAdAWd5vqjRnCxqEsFJgWoK3mim21G82ZHPD3",metaplexNFT:new P(r.rpc)},mainnet:{node:"https://api.mainnet-beta.solana.com",senFarmingProgram:"4fPn4MWiAdAWd5vqjRnCxqEsFJgWoK3mim21G82ZHPD3",metaplexNFT:new P(r.rpc)}},Z={manifest:E[r.env],sol:X[r.net]},{manifest:{appId:Y}}=Z,U=`/app/${Y}`,H=()=>{const{search:e,pathname:t}=(0,l.useLocation)(),s=(0,l.useHistory)(),n=(0,l.useParams)(),r=(0,a.useMemo)((()=>new URLSearchParams(e)),[e]),i=(0,a.useCallback)((e=>n[e]?n[e]:""),[n]),o=(0,a.useCallback)((e=>{const t=r.get(e);return t||""}),[r]),d=(0,a.useCallback)((()=>{const e={};r.forEach(((t,s)=>{e[s]=t}));return e}),[r]),c=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=d();!1===n&&(t=Object.assign(r,t));const a=new URLSearchParams(t);a&&(e+=`?${a.toString()}`),s.push(`${U}${e}`)}),[d,s]);return{getQuery:o,getAllQuery:d,pushHistory:c,appRoute:U,pathname:t,getIdFromUrl:i}};s(95418);const{sol:{metaplexNFT:L}}=Z,W=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(r.util.explorer(t),"_blank")}),q=e=>(console.log("er",e),window.notify({type:"error",description:e.message})),K={padding:"4px 12px",height:40,width:"100%",background:"#0A0A0A"},J={mintAddress:"",budget:""},G=()=>{const[e,t]=(0,a.useState)([J]),[s,n]=(0,a.useState)([]),[l,d]=(0,a.useState)(""),[u,h]=(0,a.useState)({startAt:0,endAt:0}),{initializeFarm:m,loading:j}=(()=>{const[e,t]=(0,a.useState)(!1),s=(0,r.useGetMintDecimals)(),{to:n}=(0,r.useAppRoute)(Z.manifest.appId);return{initializeFarm:(0,a.useCallback)((async e=>{let{inputMint:r,startAt:a,endAt:l,tokenRewards:i,boostsData:o}=e;try{t(!0);const e=window.senFarming,d=window.senFarming.provider,c=new w.web3.PublicKey(r),u=(new Date).getTime();let h=0;a>u&&(h=Math.floor((a-u)/1e3));const p=Math.floor((l-u)/1e3);let m=w.web3.Keypair.generate();const{tx:j}=await e.initializeFarm({inputMint:c,startAfter:h+10,endAfter:p,sendAndConfirm:!1,farmKeypair:m}),y=new w.web3.Transaction;await Promise.all(o.map((async t=>{let{collection:s,percentage:n}=t;const{tx:r}=await e.pushFarmBoostingCollection({farm:m.publicKey,collection:s,coefficient:new w.BN(n),sendAndConfirm:!1});y.add(r)})));const g=new w.web3.Transaction;await Promise.all(i.map((async t=>{let{mintAddress:n,budget:r}=t;const a=await s({mintAddress:n});if(!a)throw new Error("Can't find mint decimals");const l=x.utilsBN.decimalize(r,a),{tx:i}=await e.pushFarmReward({farm:m.publicKey,rewardMint:n,rewardAmount:l,sendAndConfirm:!1});g.add(i)})));const f=[{tx:j,signers:[m]},{tx:y,signers:[]},{tx:g,signers:[]}],C=await d.sendAll(f);W("Initialize farm",C[0]),setTimeout((()=>{n(`/${m.publicKey}`)}),300)}catch(d){q(d)}finally{t(!1)}}),[s,n]),loading:e}})(),{pushHistory:y}=H(),g=(0,a.useMemo)((()=>{if(!c.util.isAddress(l))return"Select input mint";if(!Number(u.endAt))return"Select end time";for(const t of e){if(!c.util.isAddress(t.mintAddress))return"Select reward mint";if(!Number(t.budget))return"Enter budget amount"}}),[l,u.endAt,e]);return(0,p.jsx)(i.Row,{justify:"center",children:(0,p.jsx)(i.Col,{xs:24,md:12,lg:10,children:(0,p.jsx)(i.Card,{bordered:!1,children:(0,p.jsxs)(i.Row,{gutter:[32,32],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Title,{level:4,children:"Add Farm"})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Space,{direction:"vertical",style:{width:"100%"},children:[(0,p.jsx)(i.Typography.Title,{level:5,children:"Input"}),(0,p.jsx)(o.MintSelection,{value:l,onChange:d,style:{...K,textAlign:"left"},placeholder:"Select LP token"})]})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(C,{tokenRewards:e,setTokenRewards:t})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(N,{time:u,onChange:(e,t)=>h({...u,[e]:t})})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(M,{onChange:n,boostsData:s})}),(0,p.jsx)(i.Col,{span:12,children:(0,p.jsx)(i.Button,{onClick:()=>y("/farms"),size:"large",ghost:!0,block:!0,children:"Cancel"})}),(0,p.jsx)(i.Col,{span:12,children:(0,p.jsx)(i.Button,{size:"large",type:"primary",onClick:async()=>{await m({inputMint:l,startAt:u.startAt,endAt:u.endAt,boostsData:s,tokenRewards:e})},block:!0,disabled:!!g,loading:j,children:g||"Add"})})]})})})})};var Q=s(58421);const _=e=>{let{farmAddress:t}=e;const s=(e=>{const[t,s]=(0,a.useState)(0),n=(0,a.useCallback)((async()=>s(e?Math.random():0)),[e]);return(0,h.Z)(n,250,[n]),t})(t);return(0,p.jsx)("span",{children:r.util.numeric(s).format("0,0.[00]%")})},$=()=>{const e=(0,r.useGetMintDecimals)(),t=ee();return(0,a.useCallback)((async(s,n)=>{try{const r=await t(s);if(!r)return 0;const a=await e({mintAddress:s.toString()}),l=x.utilsBN.undecimalize(n,a||0);return Number(l)*r}catch(r){return 0}}),[e,t])},ee=()=>(0,a.useCallback)((async e=>{try{var t;const s=await r.tokenProvider.findByAddress(e),n=null===s||void 0===s||null===(t=s.extensions)||void 0===t?void 0:t.coingeckoId;return(await r.util.fetchCGK(n)).price}catch(s){return 0}}),[]),te=e=>{const[t,s]=(0,a.useState)(),n=ee(),r=(0,a.useCallback)((async()=>{if(void 0!==t)return;const r=await n(e);s(r)}),[n,e,t]);return(0,a.useEffect)((()=>{r()}),[r]),t||0},se=e=>(0,n.useSelector)((t=>t.farms[e])),ne=e=>{let{farmAddress:t}=e;const s=(e=>{const[t,s]=(0,a.useState)(0),{inputMint:n,totalShares:r}=se(e),l=$(),i=(0,a.useCallback)((async()=>{const e=await l(n.toString(),r);return s(e)}),[l,n,r]);return(0,a.useEffect)((()=>{i()}),[i]),t})(t);return(0,p.jsx)("span",{children:r.util.numeric(s).format("$0,0.[00]a")})},re=e=>{const t=(0,n.useSelector)((e=>e.rewards));return(0,a.useMemo)((()=>Object.values(t).filter((t=>t.farm.toBase58()===e))),[e,t])},ae=e=>{let{farmAddress:t}=e;const s=re(t);return(0,p.jsx)(i.Space,{size:4,children:s.map((e=>(0,p.jsx)(o.MintAvatar,{mintAddress:e.rewardMint},e.rewardMint.toBase58())))})};var le=s(51518),ie=s.n(le);const oe=e=>{let{title:t="",address:s=""}=e;const[n,l]=(0,a.useState)(!1);return(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:10,children:(0,p.jsxs)(i.Space,{align:"baseline",children:[(0,p.jsx)(d.default,{style:{fontSize:16},name:"alert-circle-outline"}),(0,p.jsx)(i.Typography.Text,{children:t})]})}),(0,p.jsx)(i.Col,{span:12,children:(0,p.jsxs)(i.Typography.Text,{children:[s," "]})}),(0,p.jsx)(i.Col,{span:2,children:(0,p.jsx)(i.Tooltip,{title:"Copied",visible:n,children:(0,p.jsx)(ie(),{text:s,children:(0,p.jsx)(i.Button,{style:{width:"auto",height:"auto",padding:0,background:"transparent"},type:"text",icon:(0,p.jsx)(d.default,{name:"copy-outline"}),onClick:async e=>{e.stopPropagation(),l(!0),await r.util.asyncWait(500),l(!1)}})})})})]})},de=e=>{let{farmAddress:t="",inputMint:s=""}=e;const[n,r]=(0,a.useState)(!1);return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.Button,{type:"text",style:{width:"auto",height:"auto",padding:0,background:"transparent"},onClick:e=>{e.stopPropagation(),r(!0)},icon:(0,p.jsx)(d.default,{name:"information-circle-outline",className:"icon-describe"})}),(0,p.jsx)(i.Modal,{visible:n,onCancel:e=>{e.stopPropagation(),r(!1)},footer:!1,closable:!1,children:(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(oe,{title:"Farming Address:",address:t})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(oe,{title:"Staking mint address:",address:s})})]})})]})},ce=e=>{let{farmAddress:t,size:s=44,textStyle:n,hoverable:r=!1,spacing:a=8}=e;const{inputMint:l}=se(t)||{};return(0,p.jsxs)(i.Space,{size:12,children:[(0,p.jsx)(o.MintAvatar,{size:s,mintAddress:l}),(0,p.jsxs)(i.Space,{size:a,children:[(0,p.jsx)(i.Typography.Text,{style:{...n},children:(0,p.jsx)(o.MintSymbol,{mintAddress:l})}),r&&(0,p.jsx)(de,{farmAddress:t,inputMint:l.toBase58()})]})]})},ue=e=>{const t=(e=>{const[t,s]=(0,a.useState)(""),n=(0,a.useCallback)((async()=>{if(!r.util.isAddress(e))return s("");const t=await window.senFarming.deriveAllPDAs({farm:e});return s(t.debt.toBase58())}),[e]);return(0,a.useEffect)((()=>{n()}),[n]),t})(e),{debts:{[t]:s}}=(0,n.useSelector)((e=>e));return s},he=e=>{const t=ue(e),s=(0,a.useCallback)((e=>e.mul(t.leverage).div(T)),[null===t||void 0===t?void 0:t.leverage]),n=(0,a.useCallback)((e=>e.mul(T).div(t.leverage)),[null===t||void 0===t?void 0:t.leverage]),r=(0,a.useCallback)(((e,t,s,n)=>{let r=new w.BN(e),a=new w.BN(s),l=new w.BN(n),i=new w.BN(t),o=new w.BN(T);return r.mul(a).add(l).mul(i).div(o)}),[]),l=(0,a.useCallback)(((e,s,n,r)=>{let a=new w.BN(e),l=new w.BN(n),i=new w.BN(r),o=new w.BN(s),d=new w.BN(T),c=new w.BN(t.debtAmount);return a.mul(l).add(i).mul(o).div(d).sub(c)}),[null===t||void 0===t?void 0:t.debtAmount]);return(0,a.useMemo)((()=>({deposit:s,withdraw:n,next_debt_amount:r,get_rewards:l})),[s,l,r,n])},xe=e=>{const t=se(e),s=(0,a.useCallback)((()=>t.endDate.sub(t.startDate)),[t.endDate,t.startDate]),n=(0,a.useCallback)((async()=>{let e=await(async()=>new w.BN((new Date).getTime()/1e3))(),n=s();return e.lte(t.startDate)?new w.BN(0):e.gte(t.endDate)?n:e.sub(t.startDate)}),[s,t.endDate,t.startDate]),r=(0,a.useCallback)((()=>{let e=s();return t.totalRewards.div(e)}),[s,t.totalRewards]),l=(0,a.useCallback)((e=>{let t=r();if(e.isZero()){return t.mul(T)}return t.mul(T).div(e)}),[r]),i=(0,a.useCallback)((()=>{let e=s(),t=l(new w.BN(0));return e.mul(t)}),[l,s]),o=(0,a.useCallback)(((e,s,n)=>{let r=new w.BN(0);if(s.gte(n)){let a=s.sub(n).mul(e);r=t.compensation.add(a)}else{let a=n.sub(s).mul(e);r=t.compensation.sub(a)}return r}),[t.compensation]);return(0,a.useMemo)((()=>({get_lifetime:s,get_time_passed:n,get_velocity:r,get_emission_rate:l,get_max_compenstation:i,next_compenstation:o})),[l,s,i,n,r,o])},pe=e=>{const t=ue(e),s=se(e),n=he(e),r=xe(e);return(0,a.useCallback)((async()=>{if(!t)return new w.BN(0);let e=t.shares,a=await r.get_time_passed(),l=r.get_emission_rate(s.totalShares),i=n.get_rewards(a,e,l,s.compensation);return t.pendingRewards.add(i)}),[t,n,s.compensation,s.totalShares,r])},me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const[s,n]=(0,a.useState)(new w.BN(0)),r=pe(e),l=re(e),i=se(e),o=ue(e),d=(0,a.useCallback)((async()=>{const e=await r();n(e.div(new w.BN(10**9)))}),[r]);(0,a.useEffect)((()=>{if(t&&(null===o||void 0===o||!o.shares.isZero())){const e=setInterval((()=>d()),t);return()=>clearInterval(e)}d()}),[null===o||void 0===o?void 0:o.shares,t,d]);const c=(0,a.useMemo)((()=>l.map((e=>({mint:e.rewardMint.toBase58(),amount:s.mul(e.totalRewards).mul(T).div(i.totalRewards)})))),[i.totalRewards,l,s]);return c},je=e=>{let{farmAddress:t}=e;const[s,n]=(0,a.useState)(0),l=me(t,1e3),i=$(),o=(0,a.useCallback)((async()=>{let e=0;return await Promise.all(l.map((async t=>{const s=await i(t.mint,t.amount);e+=s}))),n(e)}),[l,i]);return(0,a.useEffect)((()=>{o()}),[o]),(0,p.jsx)("span",{children:r.util.numeric(s).format("$0,0.[00]")})},ye=e=>{let{title:t,children:s,align:n="middle",wrap:r=!0,gutter:a,style:l,childFlex:o}=e;return(0,p.jsxs)(i.Row,{gutter:a,align:n,wrap:r,children:[(0,p.jsx)(i.Col,{flex:"auto",style:{...l},children:t}),(0,p.jsx)(i.Col,{flex:o,children:s})]})},ge=e=>{let{farmAddress:t}=e;const{loading:s,harvest:n}=(e=>{const[t,s]=(0,a.useState)(!1);return{harvest:(0,a.useCallback)((async()=>{try{s(!0);const t=new w.web3.Transaction,{tx:n}=await window.senFarming.unstake({farm:e,sendAndConfirm:!1});t.add(n);const{tx:r}=await window.senFarming.stake({farm:e,sendAndConfirm:!1});t.add(r);const{tx:a}=await window.senFarming.claim({farm:e,sendAndConfirm:!1});t.add(a);const{tx:l}=await window.senFarming.convertRewards({farm:e,sendAndConfirm:!1});t.add(l);const i=window.senFarming.provider,o=await i.sendAndConfirm(t);W("Harvested",o)}catch(t){q(t)}finally{s(!1)}}),[e]),loading:t}})(t);return(0,p.jsx)(i.Button,{loading:s,onClick:()=>n(),block:!0,type:"primary",children:"Harvest"})},fe=e=>{let{mintAddress:t,amount:s,format:n="$0,0.[0000]"}=e;const[l,i]=(0,a.useState)("$0"),o=$(),d=(0,a.useCallback)((async()=>{const e=await o(t,s);return i(r.util.numeric(e).format(n))}),[s,n,o,t]);return(0,h.Z)(d,300,[d]),(0,p.jsx)("span",{children:l})},Ce=(0,a.memo)(fe),we=e=>{let{farmAddress:t}=e;const s=me(t);return(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Space,{direction:"vertical",style:{width:"100%"},children:s.map((e=>{let{mint:t,amount:s}=e;return(0,p.jsx)(ye,{title:(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(o.MintAvatar,{mintAddress:t}),(0,p.jsx)(o.MintSymbol,{mintAddress:t})]}),children:(0,p.jsxs)(i.Typography.Title,{level:5,children:[(0,p.jsx)(j,{mintAddress:t,amount:s})," ",(0,p.jsxs)("span",{style:{color:"#A1A1A1"},children:["(",(0,p.jsx)(Ce,{mintAddress:t,amount:s}),")"]})]})},t)}))})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ge,{farmAddress:t})})]})},be=e=>{let{farmAddress:t}=e;return(0,p.jsx)(i.Tooltip,{title:(0,p.jsx)(we,{farmAddress:t}),children:(0,p.jsx)(d.default,{name:"information-circle-outline",className:"icon-describe"})})},Ae=e=>{let{farmAddress:t}=e;const s=re(t);return(0,p.jsxs)(i.Row,{gutter:[8,8],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Text,{className:"caption",children:"Daily reward"})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Space,{direction:"vertical",style:{width:"100%"},children:s.map((e=>(0,p.jsx)(ye,{title:(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(o.MintAvatar,{mintAddress:e.rewardMint}),(0,p.jsx)(o.MintSymbol,{mintAddress:e.rewardMint})]}),children:(0,p.jsx)(i.Typography.Title,{level:5,children:"1000/Week"})},e.rewardMint.toBase58())))})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:(0,p.jsx)(i.Typography.Text,{className:"caption",children:"End at"}),children:(0,p.jsx)(i.Typography.Title,{level:5,children:k()(Date.now()).format(v)})})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Divider,{style:{margin:4}})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Text,{children:"To get SNTR and ZET rewards, you need to join the pool by participating in the liquidity offering. Rewards will be distributed weekly."})})]})},ve=e=>{let{farmAddress:t}=e;return(0,p.jsx)(i.Tooltip,{title:(0,p.jsx)(Ae,{farmAddress:t}),children:(0,p.jsx)(d.default,{name:"information-circle-outline",className:"icon-describe"})})},Te=e=>{const[t,s]=(0,a.useState)([]),r=(0,n.useSelector)((e=>e.boosting)),l=(0,a.useCallback)((()=>{const t=[];Object.keys(r).filter((t=>r[t].farm.toBase58()===e)).map((e=>t.push(r[e]))),console.log("listBoostingData: ",t),s(t)}),[e,r]);return(0,a.useEffect)((()=>{l()}),[l]),t},Se=e=>{let{farmAddress:t}=e;const{to:s}=(0,r.useAppRoute)(Z.manifest.appId),n=Te(t);return(0,p.jsx)(i.Card,{bodyStyle:{padding:"20px 16px"},hoverable:!0,bordered:!1,onClick:()=>s(`/${t}`),children:(0,p.jsxs)(i.Row,{gutter:[20,20],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Row,{gutter:[8,8],align:"middle",children:[(0,p.jsx)(i.Col,{flex:"auto",children:(0,p.jsx)(ce,{farmAddress:t,textStyle:{fontSize:20,fontWeight:700},hoverable:!0})}),!!n.length&&(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Tag,{style:{color:"#A0E86F",background:"rgba(160, 232, 111, 0.1)",border:"none",borderRadius:8,padding:"1px 8px"},children:"\u26a1 Boost"})})]})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Row,{justify:"space-between",children:[(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{direction:"vertical",children:[(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"APR"}),(0,p.jsx)(ve,{farmAddress:t})]}),(0,p.jsx)(i.Typography.Title,{level:5,style:{color:"#a0e86f"},children:(0,p.jsx)(_,{farmAddress:t})}),(0,p.jsx)(ae,{farmAddress:t})]})}),(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{direction:"vertical",children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"Liquidity"}),(0,p.jsx)(i.Typography.Text,{children:(0,p.jsx)(ne,{farmAddress:t})})]})}),(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{direction:"vertical",children:[(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"Your rewards"}),(0,p.jsx)(be,{farmAddress:t})]}),(0,p.jsx)(i.Typography.Title,{level:5,children:(0,p.jsx)(je,{farmAddress:t})})]})})]})})]})})},ke=(0,a.memo)(Se),Ne=e=>{let{children:t}=e;return(0,p.jsx)(i.Row,{justify:"center",children:(0,p.jsx)(i.Col,{xs:24,md:20,lg:18,children:t})})},Fe=()=>{const e={color:"inherit"};return(0,p.jsxs)(i.Card,{className:"banner",bordered:!1,style:{overflow:"hidden"},bodyStyle:{padding:"24px 32px"},children:[(0,p.jsxs)(i.Row,{gutter:[24,24],style:{position:"relative",zIndex:8,color:"#141413"},children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Title,{level:4,style:{...e},children:"Sen Farming V2"})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Space,{size:64,children:[(0,p.jsxs)(i.Space,{direction:"vertical",children:[(0,p.jsx)(i.Typography.Text,{style:{...e},children:"Total value staked"}),(0,p.jsx)(i.Typography.Title,{level:3,style:{...e},children:"$460,944.63"})]}),(0,p.jsxs)(i.Space,{direction:"vertical",children:[(0,p.jsx)(i.Typography.Text,{style:{...e},children:"Total your rewards"}),(0,p.jsx)(i.Typography.Title,{level:3,style:{...e},children:"$0"})]})]})})]}),(0,p.jsx)("div",{className:"icon-banner",children:(0,p.jsx)(i.Image,{src:"data:image/png;base64,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",preview:!1})})]})},Re=()=>{const{farmingOptions:e}=(()=>{const e=(0,n.useSelector)((e=>e.farms)),t=(0,n.useSelector)((e=>e.debts)),s=(0,r.useWalletAddress)();return{farmingOptions:(0,a.useMemo)((()=>{const n=[];for(const r in A){let a=0;switch(r){case"all":a=Object.keys(e).length;break;case"sentre":default:break;case"staked":a=Object.values(t).filter((e=>e.authority.toBase58()===s&&!!e.shares&&!e.shares.isZero())).length;break;case"your":a=Object.values(e).filter((e=>e.authority.toBase58()===s)).length}const l={label:`${A[r]} (${a})`,value:r};n.push(l)}return n}),[t,e,s])}})();return(0,p.jsx)(i.Segmented,{options:e})},Be=e=>{let{placeholder:t="Search by name, address"}=e;return(0,p.jsx)(i.Card,{bordered:!1,bodyStyle:{padding:"2px 12px"},style:{background:"#0A0A0A",borderRadius:8},children:(0,p.jsxs)(i.Space,{style:{width:"100%"},children:[(0,p.jsx)(d.default,{name:"search-outline"}),(0,p.jsx)(i.Input,{bordered:!1,style:{width:"100%"},placeholder:t})]})})},Me={ADS:{up:"#727272",down:"#F3F3F3"},DESC:{up:"#F3F3F3",down:"#727272"}},De=e=>{let{type:t}=e;const s=Me[t];return(0,p.jsxs)(i.Row,{style:{flexDirection:"column"},children:[(0,p.jsx)(i.Col,{style:{height:10},children:(0,p.jsx)(d.default,{style:{fontSize:12,color:s.up},name:"caret-up-outline"})}),(0,p.jsx)(i.Col,{children:(0,p.jsx)(d.default,{style:{fontSize:12,color:s.down},name:"caret-down-outline"})})]})},Ee=()=>(0,p.jsxs)(i.Row,{gutter:[16,16],align:"middle",children:[(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{size:6,children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"Sort by:"}),(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(i.Button,{type:"text",size:"small",style:{padding:0,background:"transparent"},children:"Liquidity"}),(0,p.jsx)(De,{type:"ADS"})]}),(0,p.jsx)(i.Divider,{type:"vertical",style:{margin:0}}),(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(i.Button,{type:"text",size:"small",style:{padding:0,background:"transparent"},children:"APR"}),(0,p.jsx)(De,{type:"ADS"})]})]})}),(0,p.jsx)(i.Col,{children:(0,p.jsx)("label",{style:{cursor:"pointer"},children:(0,p.jsxs)(i.Space,{size:6,children:[(0,p.jsx)(i.Typography.Text,{style:{userSelect:"none"},children:"Boost only"}),(0,p.jsx)(i.Switch,{size:"small"})]})})})]}),Oe=()=>(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{xs:24,md:8,children:(0,p.jsx)(Be,{})}),(0,p.jsx)(i.Col,{flex:1,children:(0,p.jsx)(Ee,{})})]}),ze=()=>{const e=(0,n.useSelector)((e=>e.farms)),t=(0,n.useSelector)((e=>e.rewards)),[s,r]=(0,a.useState)([]),{pushHistory:l}=H(),o=(0,a.useCallback)((()=>{const s=[];for(const n of Object.values(t)){const t=n.farm.toBase58();!s.includes(t)&&e[t]&&s.push(t)}return r(s)}),[e,t]);return(0,a.useEffect)((()=>{o()}),[o]),(0,p.jsx)(Ne,{children:(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(Fe,{})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{gutter:[16,16],style:{flexGrow:10},title:(0,p.jsx)(Re,{}),childFlex:1,children:(0,p.jsx)(i.Button,{onClick:()=>l("/create-farm"),ghost:!0,block:!0,children:"Add farm"})})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(Oe,{})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Row,{gutter:[12,12],children:s.map((e=>(0,p.jsx)(i.Col,{xs:24,lg:12,children:(0,p.jsx)(Q.default,{height:196,children:(0,p.jsx)(ke,{farmAddress:e})})},e)))})})]})})},Ve=e=>{let{mintAddress:t,size:s=64,style:n,removeable:r=!1,onRemoveNFT:a}=e;return(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(i.Card,{style:{borderRadius:8,overflow:"hidden"},bodyStyle:{padding:0},bordered:!1,children:(0,p.jsx)(o.AvatarNFT,{mintAddress:t,style:{width:s,height:s,objectFit:"cover",...n}})}),r&&(0,p.jsx)(i.Button,{type:"text",shape:"circle",style:{position:"absolute",minWidth:16,width:16,height:16,top:-4,right:-4,border:"none",background:"#727272",padding:0},icon:(0,p.jsx)(d.default,{name:"close-outline"}),onClick:()=>a(t)})]})},Ie=()=>{const[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(!1),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(["E3XvnyR46WV3W3Sv7nXAzPoN4LJLNmL84aUinN39WsXX","FDbqKkB9P1crrmxFTiKFvYHKphrXzAyXLdfh77KetT6P","FeHKuGmqXS7BKQcC2hpX6as19unm7foUBrSgTsZLKTTs"]),u=e=>{n(!0),l(e)},h=()=>{n(!1),l("")};return(0,p.jsxs)(i.Row,{gutter:[16,16],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:"Your staked NFTs",children:o.length>0&&(0,p.jsx)(i.Button,{type:"text",onClick:()=>t(!e),children:e?"Cancel":"Unstake"})})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Row,{gutter:[16,16],children:o.map((t=>(0,p.jsx)(i.Col,{children:(0,p.jsx)(Ve,{mintAddress:t,removeable:e,onRemoveNFT:u})},t)))})}),(0,p.jsx)(i.Modal,{visible:s,onCancel:h,footer:!1,closable:!1,children:(0,p.jsxs)(i.Row,{gutter:[16,16],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Space,{align:"baseline",children:[(0,p.jsx)(d.default,{name:"information-circle-outline",style:{fontSize:18,color:"#FA8C16"}}),(0,p.jsxs)(i.Space,{direction:"vertical",children:[(0,p.jsx)(i.Typography.Title,{level:5,children:"Are you sure to Unstake NFTs?"}),(0,p.jsx)(i.Typography.Text,{children:"Your staked LP will be reduced in proportion with the unstake NFTs."})]})]})}),(0,p.jsx)(i.Col,{span:24,style:{textAlign:"right"},children:(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(i.Button,{ghost:!0,onClick:h,children:"Cancel"}),(0,p.jsx)(i.Button,{style:{background:"#FF666E",borderColor:"#FF666E"},type:"primary",onClick:()=>{const e=o.filter((e=>e!==r));n(!1),c(e)},children:"Unstake"})]})})]})})]})},Pe=e=>{let{mintAddress:t,size:s=32,style:n}=e;const a=te(t);return(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(o.MintAvatar,{mintAddress:t,size:s}),(0,p.jsxs)(i.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(i.Typography.Text,{style:{...n},children:(0,p.jsx)(o.MintSymbol,{mintAddress:t})}),(0,p.jsxs)(i.Typography.Text,{type:"secondary",children:["$",r.util.numeric(a).format("0,0.[00]")]})]})]})},Xe=e=>{let{mintAddress:t,format:s="$0,0.[0000]"}=e;const n=te(t.toString());return(0,p.jsx)("span",{children:r.util.numeric(n).format(s)})},Ze=(0,a.memo)(Xe),Ye=e=>{let{reward:t}=e;return(0,p.jsxs)(i.Space,{direction:"vertical",size:0,style:{textAlign:"right"},children:[(0,p.jsx)(i.Typography.Title,{level:5,children:(0,p.jsx)(j,{mintAddress:t.mint,amount:t.amount,format:"0,0.[00000]"})}),(0,p.jsx)(i.Typography.Text,{type:"secondary",children:(0,p.jsx)(Ze,{mintAddress:t.mint})})]})},Ue=e=>{let{farmAddress:t}=e;const s=me(t);return(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:(0,p.jsx)(i.Typography.Text,{children:"Your rewards"}),children:(0,p.jsx)(i.Typography.Title,{level:2,children:(0,p.jsx)(je,{farmAddress:t})})})}),s.map(((e,t)=>(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:(0,p.jsx)(Pe,{mintAddress:e.mint,style:{fontSize:16}}),children:(0,p.jsx)(Ye,{reward:e})})},e.mint+t)))]})},He=e=>{let{farmAddress:t}=e;return(0,p.jsx)(i.Card,{style:{borderColor:"#A0E86F",background:"rgba(160, 232, 111, 0.05)"},children:(0,p.jsxs)(i.Row,{gutter:[12,12],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(Ue,{farmAddress:t})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ge,{farmAddress:t})})]})})},Le=e=>{let{farmAddress:t}=e;const s=re(t);return(0,p.jsx)(i.Card,{bordered:!1,style:{background:"#2D2E2D",height:"100%"},children:(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Typography.Text,{children:"Farm rewards"})}),s.map((e=>(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(o.MintAvatar,{size:24,mintAddress:e.rewardMint}),(0,p.jsx)(o.MintSymbol,{mintAddress:e.rewardMint})]}),children:(0,p.jsxs)(i.Typography.Title,{level:5,children:[r.util.numeric(1e3*Math.random()).format("0,0.[0000]"),"/Week"]})})})))]})})},We=e=>{let{label:t,mintAddress:s="",align:n}=e;return(0,p.jsxs)(i.Space,{size:12,direction:"vertical",align:n,children:[(0,p.jsx)(i.Typography.Text,{children:t}),(0,p.jsxs)(i.Space,{children:[(0,p.jsx)(o.MintAvatar,{mintAddress:s}),(0,p.jsx)(i.Typography.Title,{level:5,children:(0,p.jsx)(o.MintSymbol,{mintAddress:s})})]})]})},qe=e=>{let{label:t,children:s,mintAddress:n="",size:r=8,align:a="start"}=e;return n?(0,p.jsx)(We,{align:a,label:t,mintAddress:n}):(0,p.jsxs)(i.Space,{align:a,size:r,direction:"vertical",children:[(0,p.jsx)(i.Typography.Text,{className:"caption",type:"secondary",children:t}),s]})},Ke=e=>{let{children:t,style:s}=e;return(0,p.jsx)(i.Tag,{style:{background:"#141413",border:"none",borderRadius:4,marginRight:0,...s},children:t})},Je=(0,a.memo)((e=>{let{endTime:t}=e;const s=Math.floor(Date.now()/1e3),n=k().duration(t-s,"seconds"),[r,l]=(0,a.useState)({days:n.days(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds()}),o=(0,a.useCallback)((async()=>{if(!t)return;const e=Math.floor(Date.now()/1e3),s=k().duration(t-e,"seconds"),n=s.days(),r=s.hours(),a=s.minutes(),i=s.seconds();l({days:n,hours:r,minutes:a,seconds:i})}),[t]);return(0,a.useEffect)((()=>{const e=setInterval((()=>o()),1e3);return()=>clearInterval(e)}),[o]),t?(0,p.jsxs)(i.Space,{size:4,children:[!!r.days&&(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(Ke,{children:(0,p.jsxs)(i.Typography.Text,{className:"countdown",children:[r.days,"d"]})}),":"]}),(0,p.jsx)(Ke,{children:(0,p.jsxs)(i.Typography.Text,{className:"countdown",children:[r.hours,"h"]})}),":",(0,p.jsx)(Ke,{children:(0,p.jsxs)(i.Typography.Text,{className:"countdown",children:[r.minutes,"m"]})}),!r.days&&(0,p.jsxs)(a.Fragment,{children:[":",(0,p.jsx)(Ke,{children:(0,p.jsxs)(i.Typography.Text,{className:"countdown",children:[r.seconds,"s"]})})]})]}):(0,p.jsx)(i.Typography.Text,{children:"Unlimited"})})),Ge=e=>{const t=ue(e),s=se(e),n=(0,r.useMintDecimals)({mintAddress:null===s||void 0===s?void 0:s.inputMint.toBase58()}),l=(0,a.useMemo)((()=>t?t.shares.mul(T).div(t.leverage).toString():"0"),[t]),i=(0,a.useMemo)((()=>s.totalShares.toString()),[s.totalShares]);return(0,a.useMemo)((()=>{const e=new w.BN(l);return{amountBN:e,amount:Number(x.utilsBN.undecimalize(e,n||0)),ratio:Number(l)/Number(i)}}),[n,i,l])},Qe=e=>{let{farmAddress:t}=e;const s=Ge(t),n=(e=>{const[t,s]=(0,a.useState)(0),n=Ge(e),r=se(e),l=$(),i=(0,a.useCallback)((async()=>{const e=await l(r.inputMint,n.amountBN);return s(e)}),[r.inputMint,l,n.amountBN]);return(0,h.Z)(i,500,[i]),t})(t),{endDate:l}=se(t);return(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{direction:"vertical",size:12,children:[(0,p.jsx)(ce,{farmAddress:t,textStyle:{fontSize:30,fontWeight:700}}),(0,p.jsxs)(i.Space,{size:6,children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"End in"}),(0,p.jsx)(Je,{endTime:Math.floor(l.toNumber())})]})]})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Row,{justify:"space-between",children:[(0,p.jsx)(i.Col,{children:(0,p.jsx)(qe,{label:"APR",children:(0,p.jsx)(i.Typography.Title,{style:{color:"#A0E86F"},level:4,children:(0,p.jsx)(_,{farmAddress:t})})})}),(0,p.jsx)(i.Col,{children:(0,p.jsx)(qe,{label:"Liquidity",children:(0,p.jsx)(i.Typography.Title,{level:4,children:(0,p.jsx)(ne,{farmAddress:t})})})}),(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{direction:"vertical",size:0,children:[(0,p.jsx)(qe,{label:"Your staked",children:(0,p.jsxs)(i.Typography.Title,{level:4,children:[r.util.numeric(s.amount).format("0,0.[00]")," LP"]})}),(0,p.jsx)(i.Typography.Text,{type:"secondary",children:r.util.numeric(n).format("$0,0.[00]")})]})}),(0,p.jsx)(i.Col,{children:(0,p.jsx)(qe,{label:"Your pool share",children:(0,p.jsx)(i.Typography.Title,{level:4,children:r.util.numeric(s.ratio).format("0,0.[00]%")})})})]})})]})},_e=e=>{let{farmAddress:t}=e;const s=Te(t);return(0,p.jsx)(i.Card,{bordered:!1,style:{height:"100%"},children:(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(Qe,{farmAddress:t})}),(0,p.jsx)(i.Col,{xs:24,md:12,lg:24,xl:12,children:(0,p.jsx)(He,{farmAddress:t})}),(0,p.jsx)(i.Col,{xs:24,md:12,lg:24,xl:12,children:(0,p.jsx)(Le,{farmAddress:t})}),!!s.length&&(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Divider,{style:{margin:0}})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(Ie,{})})]})]})})},$e=e=>{let{label:t="",content:s=""}=e;return(0,p.jsxs)(i.Row,{align:"middle",children:[(0,p.jsx)(i.Col,{flex:"auto",children:(0,p.jsx)(i.Typography.Text,{type:"secondary",children:t})}),(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Typography.Title,{level:5,children:s})})]})},et=e=>{let{value:t,max:s,onChange:n=(()=>{})}=e;return(0,p.jsx)(i.InputNumber,{stringMode:!0,decimalSeparator:".",controls:!1,placeholder:"0",bordered:!1,size:"large",style:{padding:0,width:"100%",color:"#C6F1A9",fontSize:24},value:t,onChange:n,max:s})},tt=e=>{let{mint:t="",value:s,onChange:n,available:a}=e;return(0,p.jsx)(i.Card,{bodyStyle:{padding:12},style:{boxShadow:"none",borderRadius:8,background:"#0A0A0A"},bordered:!1,children:(0,p.jsxs)(i.Row,{gutter:[8,8],justify:"end",children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:(0,p.jsx)(et,{value:s,onChange:n,max:(a||0).toString()}),children:(0,p.jsx)(o.MintSelection,{})})}),(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{size:6,children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"Available:"}),(0,p.jsx)(i.Typography.Text,{children:`${r.util.numeric(a).format("0,0.[00]")} LPT`}),(0,p.jsx)(i.Button,{size:"small",type:"text",style:{color:"#C6F1A9"},onClick:()=>n((a||0).toString()),children:"MAX"})]})})]})})},st=e=>{let{mint:t="",value:s,onChange:n,available:l,selectMint:o}=e;const{balance:d}=(0,u.$)(t),c=(0,a.useMemo)((()=>l||d),[l,d]);return o?(0,p.jsx)(tt,{value:s,onChange:n,available:c}):(0,p.jsx)(i.Card,{bodyStyle:{padding:12},style:{boxShadow:"none",borderRadius:8,background:"#0A0A0A"},bordered:!1,children:(0,p.jsxs)(i.Row,{gutter:[16,16],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"Amount"}),children:(0,p.jsxs)(i.Space,{size:6,children:[(0,p.jsx)(i.Typography.Text,{type:"secondary",children:"Available:"}),(0,p.jsx)(i.Typography.Text,{children:`${r.util.numeric(c).format("0,0.[00]")} LPT`})]})})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(ye,{title:(0,p.jsx)(et,{value:s,onChange:n,max:c.toString()}),wrap:!1,children:(0,p.jsx)(i.Button,{size:"small",type:"text",style:{color:"#C6F1A9"},onClick:()=>n(c.toString()),children:"MAX"})})})]})})},nt=e=>{let{farmAddress:t}=e;const[s,n]=(0,a.useState)(!1),[l,c]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[m,j]=(0,a.useState)(0),y=se(t),g=Te(t),{stake:f,loading:C}=(e=>{const[t,s]=(0,a.useState)(!1),n=ue(e),l=se(e),i=(0,r.useMintDecimals)({mintAddress:null===l||void 0===l?void 0:l.inputMint.toBase58()});return{stake:(0,a.useCallback)((async t=>{let{inAmount:r,nfts:a}=t;try{if(s(!0),!i)throw new Error("Not find mint decimals");const t=new w.web3.Transaction;if(!n){const{tx:s}=await window.senFarming.initializeDebt({farm:e,sendAndConfirm:!1});t.add(s)}if(null===n||void 0===n||!n.shares.isZero()){const{tx:s}=await window.senFarming.unstake({farm:e,sendAndConfirm:!1});t.add(s)}const a=x.utilsBN.decimalize(r,i),{tx:l}=await window.senFarming.deposit({farm:e,inAmount:a,sendAndConfirm:!1});t.add(l);const{tx:o}=await window.senFarming.stake({farm:e,sendAndConfirm:!1});t.add(o);const d=window.senFarming.provider,c=await d.sendAndConfirm(t);W("Stake",c)}catch(l){q(l)}finally{s(!1)}}),[n,i,e]),loading:t}})(t);console.log(j);return(0,p.jsxs)(i.Row,{gutter:[16,16],style:{height:"100%"},children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Typography.Text,{type:"secondary",children:[(0,p.jsx)(d.default,{name:"alert-circle-outline"})," The pending reward will be automatically harvested when you stake more."]})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(st,{mint:y.inputMint.toBase58(),value:u,onChange:h})}),!!g.length&&(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Space,{size:6,children:[(0,p.jsx)(i.Typography.Text,{children:"Use NFTs to increase LP"}),(0,p.jsx)(i.Typography.Text,{type:"secondary",children:(0,p.jsx)(i.Tooltip,{placement:"right",title:"Only farm owner-approved NFTs can be used for this farm. Each NFT collection will give a different boost rate depending on the settings of the farm owner.",children:(0,p.jsx)(d.default,{name:"alert-circle-outline"})})})]})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Row,{gutter:[16,16],children:[l.map((e=>(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Card,{className:"upload-box card-nft-image-only",bodyStyle:{padding:0},children:[(0,p.jsx)("div",{className:"nft-image",children:(0,p.jsx)(o.AvatarNFT,{mintAddress:e,size:64,style:{borderRadius:8,marginTop:-1}})}),(0,p.jsx)(i.Button,{type:"text",className:"icon-delete-nft",icon:(0,p.jsx)(d.default,{name:"trash-outline"}),onClick:()=>(e=>{c(l.filter((t=>t!==e)))})(e)})]})},e))),(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Card,{className:"upload-box card-nft-image-only",bodyStyle:{padding:0},onClick:()=>n(!0),children:(0,p.jsx)(i.Button,{type:"text",className:"icon-add-nft",icon:(0,p.jsx)(d.default,{name:"add-outline",style:{color:"#a0e86f"}})})})})]})})]}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Card,{bodyStyle:{padding:12},style:{boxShadow:"none",borderRadius:8,background:"#2D2E2D"},bordered:!1,children:(0,p.jsxs)(i.Space,{size:8,direction:"vertical",style:{width:"100%"},children:[(0,p.jsx)($e,{label:"Your stake",content:`${u||0} LP`}),(0,p.jsx)($e,{label:"Boost by NFT",content:`+ ${m} LP`}),(0,p.jsx)($e,{label:"Total",content:`${u||0+m} LP`})]})})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Button,{type:"primary",block:!0,disabled:!Number(u),loading:C,onClick:()=>{f({farm:t,nfts:l,inAmount:Number(u)})},children:Number(u)?"Stake":"Enter an amount"})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Button,{type:"text",style:{color:"#a0e86f"},block:!0,children:"Get BTC - SNTR LP"})}),(0,p.jsx)(i.Modal,{visible:s,closeIcon:(0,p.jsx)(d.default,{name:"close-outline"}),onCancel:()=>n(!1),footer:null,className:"modal-nft-selection",style:{paddingBottom:0},children:(0,p.jsxs)(i.Row,{gutter:[24,24],style:{maxHeight:400},children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Typography.Title,{level:4,children:"Select a NFT"})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(o.SearchNFT,{onSelect:e=>{n(!1),l.includes(e)||c([...l,e])},selectedNFTs:l})})]})})]})},rt=e=>{let{farmAddress:t}=e;const[s,n]=(0,a.useState)(""),l=Ge(t),{unstake:o,loading:c}=(e=>{const[t,s]=(0,a.useState)(!1),n=se(e),{deposit:l}=he(e),i=(0,r.useMintDecimals)({mintAddress:null===n||void 0===n?void 0:n.inputMint.toBase58()});return{unstake:(0,a.useCallback)((async t=>{let{amount:n}=t;try{if(s(!0),!i)throw new Error("Not find mint decimals");const t=x.utilsBN.decimalize(n,i),r=new w.web3.Transaction,{tx:a}=await window.senFarming.unstake({farm:e,sendAndConfirm:!1});r.add(a);const{tx:o}=await window.senFarming.withdraw({farm:e,shares:l(t),sendAndConfirm:!1});r.add(o);const{tx:d}=await window.senFarming.stake({farm:e,sendAndConfirm:!1});r.add(d);const c=window.senFarming.provider,u=await c.sendAndConfirm(r);W("Unstake",u)}catch(r){q(r)}finally{s(!1)}}),[l,i,e]),loading:t}})(t);return(0,p.jsxs)(i.Row,{gutter:[16,16],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Typography.Text,{type:"secondary",children:[(0,p.jsx)(d.default,{name:"alert-circle-outline"})," The pending reward will be automatically harvested when you unstake."]})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(st,{available:l.amount,value:s,onChange:n})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Button,{type:"primary",block:!0,style:{background:"#FF666E",borderColor:"#FF666E"},disabled:!Number(s),loading:c,onClick:()=>o({amount:Number(s)}),children:"Unstake"})})]})},at={Stake:"Stake",Unstake:"Unstake"},lt=e=>{let{farmAddress:t}=e;const[s,n]=(0,a.useState)(at.Stake);return(0,p.jsx)(i.Card,{bordered:!1,style:{height:"100%"},children:(0,p.jsxs)(i.Row,{gutter:[16,16],style:{height:"100%"},children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Segmented,{value:s,options:Object.keys(at).map((e=>({label:e,value:at[e]}))),onChange:e=>n(e.toString())})}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsxs)(i.Tabs,{defaultActiveKey:"stake",activeKey:s,style:{width:"100%",height:"100%"},renderTabBar:()=>(0,p.jsx)(a.Fragment,{}),children:[(0,p.jsx)(i.Tabs.TabPane,{tab:"Stake",style:{width:"100%",height:"100%"},children:(0,p.jsx)(nt,{farmAddress:t})},"Stake"),(0,p.jsx)(i.Tabs.TabPane,{tab:"Unstake",children:(0,p.jsx)(rt,{farmAddress:t})},"Unstake")]})})]})})},it=()=>{const{pushHistory:e}=H();return(0,p.jsx)(i.Row,{justify:"space-between",children:(0,p.jsx)(i.Col,{children:(0,p.jsx)(i.Button,{type:"text",icon:(0,p.jsx)(d.default,{name:"arrow-back-outline"}),onClick:()=>{e("/farms")},style:{padding:0,background:"trasparent"},children:"Back"})})})},ot=()=>{const{farmAddress:e}=(0,l.useParams)();return(0,p.jsx)(Ne,{children:(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(it,{})}),(0,p.jsx)(i.Col,{xs:24,lg:14,children:(0,p.jsx)(_e,{farmAddress:e})}),(0,p.jsx)(i.Col,{xs:24,lg:10,children:(0,p.jsx)(lt,{farmAddress:e})})]})})},dt=()=>{const{setBackground:e}=(0,r.useUI)(),{appRoute:t}=H();return(0,a.useEffect)((()=>{e({light:"#141413",dark:"#141413"})}),[e]),(0,p.jsxs)(l.Switch,{children:[(0,p.jsx)(l.Route,{exact:!0,path:`${t}/create-farm`,component:G}),(0,p.jsx)(l.Route,{exact:!0,path:`${t}/farms`,component:ze}),(0,p.jsx)(l.Route,{path:`${t}/:farmAddress`,component:ot}),(0,p.jsx)(l.Route,{path:"*",children:(0,p.jsx)(l.Redirect,{to:`${t}/farms`})})]})};var ct=s(19289),ut=s(42224),ht=s(48744),xt=s.n(ht),pt=s(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const mt={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof ut.PublicKey||e instanceof xt()||pt.isBuffer(e)}},jt="main",yt=(0,ct.createAsyncThunk)("main/setSearch",(async(e,t)=>{let{search:s}=e,{getState:n}=t;return{search:s}})),gt=(0,ct.createSlice)({name:jt,initialState:{search:""},reducers:{},extraReducers:e=>{e.addCase(yt.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,ft="farms",Ct=(0,ct.createAsyncThunk)("farms/initFarms",(async e=>e)),wt=(0,ct.createAsyncThunk)("farms/upsetFarm",(async e=>{let{address:t,data:s}=e;if(!r.util.isAddress(t))throw new Error("Invalid farm address");if(!s)throw new Error("Data is empty");return{[t]:s}})),bt=(0,ct.createSlice)({name:ft,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Ct.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(wt.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,At="debts",vt=(0,ct.createAsyncThunk)("debts/initDebt\n  ",(async e=>e)),Tt=(0,ct.createAsyncThunk)("debts/upsetDebt",(async e=>{let{address:t,data:s}=e;if(!r.util.isAddress(t))throw new Error("Invalid farm address");if(!s)throw new Error("Data is empty");return{[t]:s}})),St=(0,ct.createSlice)({name:At,initialState:{},reducers:{},extraReducers:e=>{e.addCase(vt.fulfilled,((e,t)=>{let{payload:s}=t;return s})).addCase(Tt.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,kt="boosting",Nt=(0,ct.createAsyncThunk)("boosting/initBoosting\n  ",(async e=>e)),Ft=(0,ct.createAsyncThunk)("boosting/upsetBoosting",(async e=>{let{address:t,data:s}=e;if(!r.util.isAddress(t))throw new Error("Invalid boosting address");if(!s)throw new Error("Data is empty");return{[t]:s}})),Rt=(0,ct.createSlice)({name:kt,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Nt.fulfilled,((e,t)=>{let{payload:s}=t;return s})).addCase(Ft.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,Bt="rewards",Mt=(0,ct.createAsyncThunk)("rewards/initRewards\n  ",(async e=>e)),Dt=(0,ct.createAsyncThunk)("rewards/upsetReward",(async e=>{let{address:t,data:s}=e;if(!r.util.isAddress(t))throw new Error("Invalid reward address");if(!s)throw new Error("Data is empty");return{[t]:s}})),Et=(0,ct.createSlice)({name:Bt,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Mt.fulfilled,((e,t)=>{let{payload:s}=t;return s})).addCase(Dt.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,Ot=(0,ct.configureStore)({middleware:e=>e(mt),devTools:!1,reducer:{main:gt,farms:bt,debts:St,boosting:Rt,rewards:Et}});var zt=s(68321),Vt=s.n(zt),It=s(44994);const Pt={},Xt=(0,It.r)({}),Zt=e=>{const{program:t,name:s,filter:n,upset:r,init:l}=e,[i,o]=(0,a.useState)(0),[,d]=Xt(),{accountClient:c,connection:u}=(0,a.useMemo)((()=>{var e;const n=null===t||void 0===t||null===(e=t.account)||void 0===e?void 0:e[s];return{accountClient:n,connection:n.provider.connection}}),[s,null===t||void 0===t?void 0:t.account]),h=(0,a.useCallback)((async()=>{if(void 0===Pt[s])try{Pt[s]=!0,d({...Pt,[s]:!0});const e=await c.all(),t={};for(const s of e)t[s.publicKey.toBase58()]=s.account;await l(t)}catch(e){q(e)}finally{Pt[s]=!1,d({...Pt,[s]:!1})}}),[c,l,s,d]),m=(0,a.useCallback)((async()=>{if(i)return;const e=u.onProgramAccountChange(c.programId,(async e=>{const n=e.accountId.toBase58(),a=e.accountInfo.data,l=t.coder.accounts.decode(s,a);r(n,l)}),"confirmed",[{dataSize:c.size},{memcmp:{offset:0,bytes:(0,x.encodeIxData)((0,x.accountDiscriminator)(s))}},...n]);o(e)}),[c.programId,c.size,u,n,s,t.coder.accounts,r,i]);return(0,a.useEffect)((()=>{h()}),[h]),(0,a.useEffect)((()=>(m(),()=>{(async()=>{i&&await u.removeProgramAccountChangeListener(i)})()})),[u,m,i]),(0,p.jsx)(a.Fragment,{})},Yt=()=>(0,p.jsx)("div",{className:"loading-screen",style:{display:"block"},children:(0,p.jsxs)(i.Row,{gutter:[24,24],children:[(0,p.jsx)(i.Col,{span:24,style:{height:256}}),(0,p.jsx)(i.Col,{span:24,children:(0,p.jsx)(i.Row,{gutter:[24,24],justify:"center",children:(0,p.jsx)(i.Col,{children:(0,p.jsxs)(i.Space,{direction:"vertical",align:"center",size:32,children:[(0,p.jsx)(i.Spin,{size:"large"}),(0,p.jsx)(i.Typography.Title,{level:5,children:"Welcome to Sen Farming V2. The application is loading..."})]})})})})]})}),Ut=[],Ht=()=>{const e=(0,n.useDispatch)(),t=(0,a.useCallback)((t=>e(Ct(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(wt({address:t,data:s}))),[e]);return(0,p.jsx)(Zt,{program:window.senFarming.program,name:"farm",filter:Ut,init:t,upset:s})},Lt=[],Wt=()=>{const e=(0,n.useDispatch)(),t=(0,a.useCallback)((t=>e(vt(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(Tt({address:t,data:s}))),[e]);return(0,p.jsx)(Zt,{program:window.senFarming.program,name:"debt",filter:Lt,init:t,upset:s})},qt=[],Kt=()=>{const e=(0,n.useDispatch)(),t=(0,a.useCallback)((t=>e(Nt(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(Ft({address:t,data:s}))),[e]);return(0,p.jsx)(Zt,{program:window.senFarming.program,name:"farmBoostingCollection",filter:qt,init:t,upset:s})},Jt=[],Gt=()=>{const e=(0,n.useDispatch)(),t=(0,a.useCallback)((t=>e(Mt(t))),[e]),s=(0,a.useCallback)(((t,s)=>e(Dt({address:t,data:s}))),[e]);return(0,p.jsx)(Zt,{program:window.senFarming.program,name:"farmRewardMint",filter:Jt,init:t,upset:s})},Qt=e=>{let{children:t}=e;const[s]=Xt(),n=(0,a.useMemo)((()=>!Object.values(s).length||Object.values(s).includes(!0)),[s]);return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(Ht,{}),(0,p.jsx)(Wt,{}),(0,p.jsx)(Kt,{}),(0,p.jsx)(Gt,{}),n?(0,p.jsx)(Yt,{}):t]})},{sol:{senFarmingProgram:_t}}=Z,$t=e=>{let{children:t}=e;const s=(0,r.useWalletAddress)(),[n,l]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(n)return;const e=(0,x.getAnchorProvider)(r.rpc,s,window.sentre.wallet),t=new(Vt())(e,_t);window.senFarming=t,l(!0)}),[s,n]),n?(0,p.jsx)(Qt,{children:t}):null};var es=s(45597);const{manifest:{appId:ts}}=Z,ss=()=>(0,p.jsx)(r.UIProvider,{appId:ts,antd:{prefixCls:ts},style:{paddingBottom:24},children:(0,p.jsx)(n.Provider,{store:Ot,children:(0,p.jsx)($t,{children:(0,p.jsx)(dt,{})})})})},83272:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/README.dd3222bdab290f263138.md"},70854:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel.6ce7bc345912340df001.png"},43094:()=>{},69159:()=>{},35883:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},89408:()=>{},47956:()=>{},21724:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=node_modules_sentre_senhub_dist_components_pageLoader_lazy_recursive-src_bootstrap_app_tsx-we-decc06.60c68bb1.chunk.js.map